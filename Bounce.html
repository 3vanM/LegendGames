<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Ball Bounce Arcade â€“ Mouse Control</title>
<style>
  body {
    margin: 0;
    background: #111;
    color: #fff;
    font-family: Arial, sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
  }
  canvas {
    background: #222;
    border-radius: 10px;
    box-shadow: 0 0 20px rgba(0,255,136,0.5);
  }
  #ui {
    position: absolute;
    top: 20px;
    text-align: center;
    color: #00ff88;
  }
  button, input[type=color] {
    margin: 5px;
    padding: 6px 12px;
    border: none;
    border-radius: 6px;
    background: #00ff88;
    color: #04220f;
    font-weight: bold;
    cursor: pointer;
  }
  label {
    margin: 0 10px;
    font-size: 14px;
  }
</style>
</head>
<body>
<div id="ui">
  Score: <span id="score">0</span> |
  High Score: <span id="highScore">0</span><br>
  <label>Paddle Color <input type="color" id="paddleColor" value="#00ff88"></label>
  <label>Ball Color <input type="color" id="ballColor" value="#ffffff"></label><br>
  <button id="startBtn">Start Game</button>
</div>
<canvas id="game" width="600" height="400"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");
const scoreEl = document.getElementById("score");
const highScoreEl = document.getElementById("highScore");
const startBtn = document.getElementById("startBtn");
const paddleColorInput = document.getElementById("paddleColor");
const ballColorInput = document.getElementById("ballColor");

let paddle = { x: 250, y: 360, w: 100, h: 12, color: "#00ff88" };
let ball = { x: 300, y: 200, r: 10, vx: 4, vy: -4, color: "#ffffff", speedIncrement: 0.2 };
let score = 0;
let highScore = 0;
let running = false;
let animationId;

// Draw paddle and ball
function draw() {
  ctx.clearRect(0,0,canvas.width,canvas.height);
  ctx.fillStyle = paddle.color;
  ctx.fillRect(paddle.x, paddle.y, paddle.w, paddle.h);
  ctx.beginPath();
  ctx.arc(ball.x, ball.y, ball.r, 0, Math.PI*2);
  ctx.fillStyle = ball.color;
  ctx.fill();
}

// Game loop
function step() {
  if(!running) return;

  // Move ball
  ball.x += ball.vx;
  ball.y += ball.vy;

  // Bounce walls
  if(ball.x < ball.r || ball.x > canvas.width - ball.r) ball.vx *= -1;
  if(ball.y < ball.r) ball.vy *= -1;

  // Bounce paddle
  if(ball.y + ball.r >= paddle.y && ball.x >= paddle.x && ball.x <= paddle.x + paddle.w) {
    ball.vy = -Math.abs(ball.vy);
    score++;
    scoreEl.textContent = score;
    // Increase speed slightly
    ball.vx += ball.vx > 0 ? ball.speedIncrement : -ball.speedIncrement;
    ball.vy += ball.vy > 0 ? ball.speedIncrement : -ball.speedIncrement;
  }

  // Ball hits bottom
  if(ball.y > canvas.height) {
    running = false;
    highScore = Math.max(highScore, score);
    highScoreEl.textContent = highScore;
    alert(`Game Over! Score: ${score}`);
  }

  draw();
  animationId = requestAnimationFrame(step);
}

// Paddle follows mouse
canvas.addEventListener("mousemove", e => {
  const rect = canvas.getBoundingClientRect();
  paddle.x = e.clientX - rect.left - paddle.w / 2;
  // Keep paddle inside canvas
  if(paddle.x < 0) paddle.x = 0;
  if(paddle.x + paddle.w > canvas.width) paddle.x = canvas.width - paddle.w;
});

// Color customization
paddleColorInput.addEventListener("input", e => paddle.color = e.target.value);
ballColorInput.addEventListener("input", e => ball.color = e.target.value);

// Start/restart game
startBtn.addEventListener("click", () => {
  paddle.x = 250;
  paddle.color = paddleColorInput.value;
  ball.x = 300;
  ball.y = 200;
  ball.vx = 4;
  ball.vy = -4;
  ball.color = ballColorInput.value;
  score = 0;
  scoreEl.textContent = score;
  running = true;
  cancelAnimationFrame(animationId);
  step();
});
</script>
</body>
</html>
